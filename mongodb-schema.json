{
  "collections": {
    "users": {
      "description": "Stores user account information and profile details.",
      "schema": {
        "_id": "ObjectId",
        "name": "String",
        "email": "String (Unique, Indexed)",
        "emailVerified": "Boolean",
        "password": "String (Hashed)",
        "avatar_key": "String (S3 Object Key)",
        "bio": "String",
        "role": "String ('student' | 'moderator' | 'admin')",
        "cycle": "Number",
        "interests": ["String"],
        "bookmarked_posts": ["ObjectId (ref: 'posts')"],
        "createdAt": "Date",
        "updatedAt": "Date"
      },
      "sample_document": {
        "_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f1')",
        "name": "Ana Garc칤a",
        "email": "ana.garcia@unam.edu.pe",
        "password": "$2b$12$KqL6b8d2e...hashed_password_example",
        "avatar_key": "avatars/60d5ec49f5a2b1a2c8d3e8f1.jpg",
        "bio": "Estudiante de Ingenier칤a de Sistemas apasionada por el desarrollo web y la inteligencia artificial.",
        "cycle": 5,
        "interests": ["Programaci칩n", "Bases de datos", "Desarrollo web"],
        "bookmarked_posts": ["ObjectId('60d5ec49f5a2b1a2c8d3e8f3')"],
        "createdAt": "2024-01-10T10:00:00Z",
        "updatedAt": "2024-01-10T10:00:00Z"
      }
    },
    "courses": {
      "description": "Stores the list of available courses. This is mostly static data.",
      "schema": {
        "_id": "ObjectId",
        "course_id": "String (Unique, Indexed)",
        "name": "String",
        "cycle": "Number"
      },
      "sample_document": {
        "_id": "ObjectId('60d5ec49f5a2b1a2c8d3e9a1')",
        "course_id": "IS-226",
        "name": "MATEMATICA II",
        "cycle": 2
      }
    },
    "posts": {
      "description": "Main collection for all posts. Comments are embedded. Votes and ratings include counts for quick reads and arrays for validation.",
      "schema": {
        "_id": "ObjectId",
        "title": "String",
        "content": "String",
        "author_id": "ObjectId (ref: 'users')",
        "course_id": "ObjectId (ref: 'courses', Indexed)",
        "createdAt": "Date",
        "updatedAt": "Date",
        "hashtags": ["String"],
        "attachments": [
          {
            "name": "String",
            "size": "Number",
            "type": "String",
            "object_key": "String (S3 Object Key)"
          }
        ],
        "views": "Number",
        "upvote_count": "Number",
        "downvote_count": "Number",
        "votes": [
          {
            "user_id": "ObjectId (ref: 'users')",
            "type": "String ('up' or 'down')"
          }
        ],
        "average_rating": "Number",
        "total_ratings": "Number",
        "ratings": [
          { "user_id": "ObjectId (ref: 'users')", "value": "Number (1-5)" }
        ],

        "comments": [
          {
            "_id": "ObjectId",
            "content": "String",
            "author_id": "ObjectId (ref: 'users')",
            "createdAt": "Date",
            "updatedAt": "Date",
            "score": "Number",
            "votes": [
              {
                "user_id": "ObjectId (ref: 'users')",
                "type": "String ('up' or 'down')"
              }
            ],
            "replies": "Array (recursive structure of comment documents)"
          }
        ]
      },
      "sample_document": {
        "_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f2')",
        "title": "游댌 Busco tutor para Matem치tica II",
        "content": "Hola estudiantes de UNAM! Necesito ayuda con Matem치tica II...",
        "author_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f1')",
        "course_id": "ObjectId('60d5ec49f5a2b1a2c8d3e9a1')",
        "createdAt": "2024-01-15T10:30:00Z",
        "updatedAt": "2024-01-15T10:30:00Z",
        "hashtags": ["tutor칤a", "matem치tica", "ayuda"],
        "attachments": [
          {
            "name": "Guia de integrales.pdf",
            "size": 2097152,
            "type": "application/pdf",
            "object_key": "attachments/60d5ec49f5a2b1a2c8d3e8f2/guia_integrales.pdf"
          }
        ],
        "views": 156,
        "upvote_count": 12,
        "downvote_count": 1,
        "votes": [
          { "user_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f4')", "type": "up" }
        ],
        "average_rating": 4.2,
        "total_ratings": 8,
        "ratings": [
          { "user_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f4')", "value": 5 }
        ],
        "comments": [
          {
            "_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f5')",
            "content": "Hola Ana! Yo puedo ayudarte...",
            "author_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f4')",
            "createdAt": "2024-01-15T11:00:00Z",
            "updatedAt": "2024-01-15T11:00:00Z",
            "score": 3,
            "votes": [],
            "replies": []
          }
        ]
      }
    },
    "achievements": {
      "description": "Definitions for all available achievements in the system.",
      "schema": {
        "_id": "ObjectId",
        "achievement_id": "String (e.g., 'first-post')",
        "title": "String",
        "description": "String",
        "category": "String ('posting', 'social', 'engagement', 'special')",
        "rarity": "String ('common', 'rare', 'epic', 'legendary')",
        "icon": "String (S3 key or URL)",
        "visible": "Boolean",
        "maxProgress": "Number",
        "reward_points": "Number",
        "reward_badge": "String"
      },
      "sample_document": {
        "_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8a1')",
        "achievement_id": "social-butterfly",
        "title": "Mariposa Social",
        "description": "Recibir 50 upvotes en tus publicaciones",
        "category": "social",
        "rarity": "rare",
        "maxProgress": 50,
        "reward_points": 50,
        "reward_badge": "Popular"
      }
    },
    "user_achievements": {
      "description": "Tracks the progress of each user towards unlocking achievements.",
      "schema": {
        "_id": "ObjectId",
        "user_id": "ObjectId (ref: 'users')",
        "achievement_id": "ObjectId (ref: 'achievements')",
        "progress": "Number",
        "unlocked": "Boolean",
        "unlockedAt": "Date"
      },
      "sample_document": {
        "_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8b1')",
        "user_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8f1')",
        "achievement_id": "ObjectId('60d5ec49f5a2b1a2c8d3e8a1')",
        "progress": 23,
        "unlocked": false,
        "unlockedAt": null
      }
    }
  }
}
